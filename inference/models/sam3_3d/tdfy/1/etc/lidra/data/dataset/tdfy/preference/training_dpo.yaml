defaults:
  - /data/dataset/tdfy/trellis500k/preprocessor@latent_loader_dataset.preprocessor: train_default

_target_: lidra.data.dataset.tdfy.preference.dataset.PreferenceJobDataset
path: "${cluster.path.datasets}/task2_generated_mesh"
metadata_fname: "metadata_pref_0618_filtered_catA.csv"
split: "train"
return_mesh: false
return_job_metadata: true 

latent_loader_dataset:
  _target_: lidra.data.dataset.tdfy.trellis.dataset.PerSubsetDataset
  path: "${cluster.path.datasets}/task2_generated_mesh"
  split: "train"
  metadata_fname: "metadata_dummy.csv"
  latent_dir: "ss_latents/ss_enc_conv3d_16l8_fp16"
  latent_loader:
    _target_: lidra.data.dataset.tdfy.trellis.latent_loader.load_structure_latents
    _partial_: true
  mesh_loader:
    _target_: lidra.data.dataset.tdfy.trellis.mesh_loader.load_trellis_mesh
    _partial_: true 