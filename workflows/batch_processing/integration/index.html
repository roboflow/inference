
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Scalable, on-device computer vision deployment.">
      
      
        <meta name="author" content="Roboflow">
      
      
        <link rel="canonical" href="https://inference.roboflow.com/workflows/batch_processing/integration/">
      
      
        <link rel="prev" href="../about/">
      
      
        <link rel="next" href="../api_reference/">
      
      
        
      
      
      <link rel="icon" href="../../../favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4+insiders-4.53.15">
    
    
      
        <title>Integration - Roboflow Inference</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f15084e1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7Cui-monospace:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"ui-monospace"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../styles/cookbooks.css">
    
      <link rel="stylesheet" href="../../../styles.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-T0CED2YY8K"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-T0CED2YY8K",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-T0CED2YY8K",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  
  

  
<meta property="og:type" content="website" />
<meta property="og:title" content="Integration - Roboflow Inference" />
<meta property="og:description" content="Scalable, on-device computer vision deployment." />
<meta property="og:image" content="https://inference.roboflow.com/assets/images/social/workflows/batch_processing/integration.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://inference.roboflow.com/workflows/batch_processing/integration/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Integration - Roboflow Inference" />
<meta property="twitter:description" content="Scalable, on-device computer vision deployment." />
<meta property="twitter:image" content="https://inference.roboflow.com/assets/images/social/workflows/batch_processing/integration.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#integration-with-batch-processing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Roboflow Inference" class="md-header__button md-logo" aria-label="Roboflow Inference" data-md-component="logo">
      
  <img src="../../../roboflow-logomark-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Roboflow Inference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/roboflow/inference" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    roboflow/inference
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../start/overview/" class="md-tabs__link">
          
  
    
  
  Start

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../quickstart/run_a_model/" class="md-tabs__link">
          
  
    
  
  Models

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../about/" class="md-tabs__link">
          
  
    
  
  Workflows

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../quickstart/roboflow_ecosystem/" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../gallery/basic_workflows/" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
  
        
      
  

      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Roboflow Inference" class="md-nav__button md-logo" aria-label="Roboflow Inference" data-md-component="logo">
      
  <img src="../../../roboflow-logomark-white.svg" alt="logo">

    </a>
    Roboflow Inference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/roboflow/inference" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    roboflow/inference
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../start/overview/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Start
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../quickstart/run_a_model/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    Workflows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    About Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../understanding/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../gallery/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../blocks/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Block Gallery
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Batch Processing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Batch Processing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Integration
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Integration
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-interactions-with-batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic interactions with Batch Processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic interactions with Batch Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video ingestion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Image Ingestion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#before-starting-the-job" class="md-nav__link">
    <span class="md-ellipsis">
      
        Before starting the job
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#job-kick-off" class="md-nav__link">
    <span class="md-ellipsis">
      
        Job kick off
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-export" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data export
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automation-on-top-of-batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automation on top of Batch Processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automation on top of Batch Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data ingestion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data ingestion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-of-references-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Structure of references file
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloud Storage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-s3-datasource" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3 Datasource
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcs-datasource" class="md-nav__link">
    <span class="md-ellipsis">
      
        GCS Datasource
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notifications
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ingest-status-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        ingest-status notifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-status-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        files-status notifications
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#job-kick-off_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Job kick off
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Job kick off">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-of-notification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format of notification
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-export_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data export
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../known_issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Known Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../definitions/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../quickstart/roboflow_ecosystem/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../gallery/basic_workflows/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-interactions-with-batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic interactions with Batch Processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic interactions with Batch Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video ingestion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Image Ingestion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#before-starting-the-job" class="md-nav__link">
    <span class="md-ellipsis">
      
        Before starting the job
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#job-kick-off" class="md-nav__link">
    <span class="md-ellipsis">
      
        Job kick off
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-export" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data export
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automation-on-top-of-batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automation on top of Batch Processing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automation on top of Batch Processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data ingestion
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data ingestion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-of-references-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Structure of references file
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloud Storage
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-s3-datasource" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3 Datasource
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcs-datasource" class="md-nav__link">
    <span class="md-ellipsis">
      
        GCS Datasource
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Notifications
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ingest-status-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        ingest-status notifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files-status-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        files-status notifications
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#job-kick-off_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Job kick off
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Job kick off">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-of-notification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format of notification
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-export_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data export
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  
    
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/roboflow/inference/tree/main/docs/workflows/batch_processing/integration.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="integration-with-batch-processing">Integration with Batch Processing<a class="headerlink" href="#integration-with-batch-processing" title="Permanent link">&para;</a></h1>
<p>Batch processing is well-suited for task automation, especially when processes need to run on a 
recurring basis. A common question is how to integrate Roboflow Batch Processing with external 
systems on the client’s end.</p>
<p>This documentation provides a detailed guide on integration strategies, covering best practices 
and implementation approaches.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The following bullet-points illustrate the interaction with Roboflow Batch Processing:</p>
<ul>
<li>
<p><strong>Workflow Creation:</strong> A workflow is created to process the data.</p>
</li>
<li>
<p><strong>Data Ingestion:</strong> The data is ingested, creating a batch in Data Staging, which serves as ephemeral storage 
for both input and output batch processing data.</p>
</li>
<li>
<p><strong>Processing:</strong> The data undergoes processing, which involves multiple (typically two) stages. Usually <code>processing</code> 
stage is responsible for running the Workflow against ingested data producing predictions. This stage results in 
CSV / JSONL files being created. This stage is usually followed by <code>export</code>, which is responsible for creating archives 
with processing results for convenient extraction from Roboflow platform.</p>
</li>
<li>
<p><strong>Data Export:</strong> The data is exported from one of the output batches created during processing. Data is exposed 
through download links which can be used to pull the data. </p>
</li>
</ul>
<h2 id="basic-interactions-with-batch-processing">Basic interactions with Batch Processing<a class="headerlink" href="#basic-interactions-with-batch-processing" title="Permanent link">&para;</a></h2>
<p>We will begin by outlining the basic interactions with this feature, providing a foundational understanding. 
Building on this, we will explore more advanced concepts later in the documentation.</p>
<p>For demonstration, we will use <code>inference-cli</code> commands and cURL, though the same functionality is available through the UI.</p>
<p>The first step in batch processing is ingesting the data. Roboflow supports both video and image ingestion, 
with options for individual uploads and optimized bulk ingestion.</p>
<div class="admonition hint">
<p class="admonition-title"><code>inference-cli</code> installation</p>
<p>If you plan to use <code>inference-cli</code> snippets - please make sure that the package is installed in your environment</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>inference-cli
</code></pre></div>
<p>For convenience, we recommend exporting Roboflow API key as env variable:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">ROBOFLOW_API_KEY</span><span class="o">=</span>YOUR_API_KEY
</code></pre></div>
</div>
<h3 id="video-ingestion">Video ingestion<a class="headerlink" href="#video-ingestion" title="Permanent link">&para;</a></h3>
<p>The simplest approach is uploading videos one by one. Once the request succeeds, the videos are ready for use. Use the 
following command to ingest videos:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="inference-cli" name="__tabbed_1" type="radio" /><input id="curl" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="inference-cli">inference-cli</label><label for="curl">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>data-staging<span class="w"> </span>create-batch-of-videos<span class="w"> </span>--videos-dir<span class="w"> </span>&lt;your-images-dir-path&gt;<span class="w"> </span>--batch-id<span class="w"> </span>&lt;your-batch-id&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Ingesting video file is in fact requesting upload URL from Roboflow API and uploading the data 
to the pointed location.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/upload/video&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;fileName=your_video.mp4&quot;</span>
</code></pre></div>
<p>Response contains <code>"signedURLDetails"</code> key with the following details:</p>
<ul>
<li>
<p><code>"uploadURL"</code> - the URL to PUT the video</p>
</li>
<li>
<p><code>"extensionHeaders"</code> - additional headers to include</p>
</li>
</ul>
<p>To upload the video, send the following request:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>&lt;url-from-the-response&gt;<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Name: value&quot;</span><span class="w"> </span>--upload-file<span class="w"> </span>&lt;path-to-your-video&gt;
</code></pre></div>
<p>with all headers from <code>"extensionHeaders"</code> response field.</p>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title"><code>batch_id</code> constraints</p>
<p>Currently, the client is in controll of <code>batch_id</code> and must meet the following 
constraints:</p>
<ul>
<li>
<p>only lower-cased ASCII letters, digits, hypen (<code>-</code>) and underscore (<code>_</code>) characters are allowed</p>
</li>
<li>
<p><code>batch_id</code> must be at most 64 characters long</p>
</li>
</ul>
</div>
<h3 id="image-ingestion">Image Ingestion<a class="headerlink" href="#image-ingestion" title="Permanent link">&para;</a></h3>
<p>Images can also be uploaded individually. However, for larger batches, a batch upload API is available for better 
performance. Clients can bundle up to 500 images into a single <code>*.tar</code> archive and send it to the API.</p>
<div class="admonition note">
<p class="admonition-title">Asynchronous indexing of batches</p>
<p>When performing bulk ingestion, Roboflow indexes the data in the background. This means that after the command 
completes, there may be a short delay before the data is fully available, depending on batch size.</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="inference-cli_1" name="__tabbed_2" type="radio" /><input id="curl-single-image" name="__tabbed_2" type="radio" /><input id="curl-bulk-upload" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="inference-cli_1">inference-cli</label><label for="curl-single-image">cURL (single image)</label><label for="curl-bulk-upload">cURL (bulk upload)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>data-staging<span class="w"> </span>create-batch-of-images<span class="w"> </span>--images-dir<span class="w"> </span>&lt;your-images-dir-path&gt;<span class="w"> </span>--batch-id<span class="w"> </span>&lt;your-batch-id&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<p>The approach presented below is simplified version of bulk images ingest which let clients upload 
images one-by-one. Due to speed limitations, <strong>we recommend using this method for batches up to 5000 images.</strong> 
It is also important to note that <strong>this method cannot be used along with bulk ingest for the same batch.</strong></p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/upload/image&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;fileName=your_image.jpg&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;your_image.jpg=@/path/to/your/image.jpg&quot;</span>
</code></pre></div>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
<div class="tabbed-block">
<p>To optimise ingest speed, we recommend using <strong>bulk ingests for batches of size exceeding 5000 images.</strong> 
The procedure contains three steps:</p>
<ul>
<li>
<p>requesting upload URL from Roboflow API</p>
</li>
<li>
<p>packing images to <code>*.tar</code> archive according to limits of size and files number dictated by API</p>
</li>
<li>
<p>uploading the archive to URL obtained from Roboflow API</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/bulk-upload/image-files&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span>
</code></pre></div>
<p>Response contains <code>"signedURLDetails"</code> key with the following details:</p>
<ul>
<li>
<p><code>"uploadURL"</code> - the URL to PUT the video</p>
</li>
<li>
<p><code>"extensionHeaders"</code> - additional headers to include</p>
</li>
</ul>
<p>To upload the archive, send the following request:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>&lt;url-from-the-response&gt;<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Name: value&quot;</span><span class="w"> </span>--upload-file<span class="w"> </span>&lt;path-to-your-video&gt;
</code></pre></div>
<p>with all headers from <code>"extensionHeaders"</code> response field.</p>
<p>Please remember, that bach created with bulk upload cannot be further filled with data ingested with simple upload 
due to internal data organisation enforced by the upload method.</p>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title"><code>batch_id</code> constraints</p>
<p>Currently, the client is in controll of <code>batch_id</code> and must meet the following 
constraints:</p>
<ul>
<li>
<p>only lower-cased ASCII letters, digits, hypen (<code>-</code>) and underscore (<code>_</code>) characters are allowed</p>
</li>
<li>
<p><code>batch_id</code> must be at most 64 characters long</p>
</li>
</ul>
</div>
<h3 id="before-starting-the-job">Before starting the job<a class="headerlink" href="#before-starting-the-job" title="Permanent link">&para;</a></h3>
<p>Once data ingestion is complete, the next step is to start a job. However, since some background processing occurs, 
it's important to determine <strong>when the data is fully ready.</strong></p>
<p>The simplest approach is to check the batch status by polling the system. This allows you to verify how many files 
have been successfully ingested before proceeding. Use the following command:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="inference-cli_2" name="__tabbed_3" type="radio" /><input id="curl_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="inference-cli_2">inference-cli</label><label for="curl_1">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>data-staging<span class="w"> </span>show-batch-details<span class="w"> </span>--batch-id<span class="w"> </span>&lt;your-batch-id&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/count&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span>
</code></pre></div>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<p>To identify potential issues during data ingestion, you can fetch status updates using the following command:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="inference-cli_3" name="__tabbed_4" type="radio" /><input id="curl_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="inference-cli_3">inference-cli</label><label for="curl_2">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>data-staging<span class="w"> </span>list-ingest-details<span class="w"> </span>--batch-id<span class="w"> </span>&lt;your-batch-id&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Endpoint to fetch shard upload details supports pagination, as the number of shards may be huge. Use 
<code>nextPageToken</code> in consecutive requests, based on previous responses (first request do not need to have this 
parameter attached).</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/shards&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;nextPageToken=OptionalNextPageToken&quot;</span>
</code></pre></div>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<p>Only after confirming that the expected number of files is available can the data be considered ready for processing.</p>
<h3 id="job-kick-off">Job kick off<a class="headerlink" href="#job-kick-off" title="Permanent link">&para;</a></h3>
<p>Once data ingestion is complete, you can start processing the batch. For image processing, use the following command:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="inference-cli_4" name="__tabbed_5" type="radio" /><input id="curl_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="inference-cli_4">inference-cli</label><label for="curl_3">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>batch-processing<span class="w"> </span>process-images-with-workflow<span class="w"> </span>--workflow-id<span class="w"> </span>&lt;workflow-id&gt;<span class="w"> </span>--batch-id<span class="w"> </span>&lt;batch-id&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/batch-processing/v1/external/{workspace}/jobs/{job_id}&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;type&quot;: &quot;simple-image-processing-v1&quot;,</span>
<span class="s1">    &quot;jobInput&quot;: {</span>
<span class="s1">        &quot;type&quot;: &quot;staging-batch-input-v1&quot;,</span>
<span class="s1">        &quot;batchId&quot;: &quot;{batch_id}&quot;</span>
<span class="s1">    },</span>
<span class="s1">    &quot;computeConfiguration&quot;: {</span>
<span class="s1">        &quot;type&quot;: &quot;compute-configuration-v2&quot;,</span>
<span class="s1">        &quot;machineType&quot;: &quot;cpu&quot;,</span>
<span class="s1">        &quot;workersPerMachine&quot;: 4</span>
<span class="s1">    },</span>
<span class="s1">    &quot;processingTimeoutSeconds&quot;: 3600,</span>
<span class="s1">    &quot;processingSpecification&quot;: {</span>
<span class="s1">        &quot;type&quot;: &quot;workflows-processing-specification-v1&quot;,</span>
<span class="s1">        &quot;workspace&quot;: &quot;{workspace}&quot;,</span>
<span class="s1">        &quot;workflowId&quot;: &quot;{workflow_id}&quot;,</span>
<span class="s1">        &quot;aggregationFormat&quot;: &quot;jsonl&quot;</span>
<span class="s1">    }</span>
<span class="s1">}&#39;</span>
</code></pre></div>
<p>This example does not cover all of the parameters that can be used. 
You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title"><code>job_id</code> constraints</p>
<p>Currently, the client is in controll of <code>job_id</code> and must meet the following 
constraints:</p>
<ul>
<li>
<p>only lower-cased ASCII letters, digits, hypen (<code>-</code>) and underscore (<code>_</code>) characters are allowed</p>
</li>
<li>
<p><code>job_id</code> must be at most 20 characters long</p>
</li>
</ul>
</div>
<p>Batch processing jobs can take time to complete. To determine when results are ready for export, you need to 
periodically check the job status:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="inference-cli_5" name="__tabbed_6" type="radio" /><input id="curl_4" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="inference-cli_5">inference-cli</label><label for="curl_4">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>batch-processing<span class="w"> </span>show-job-details<span class="w"> </span>--job-id<span class="w"> </span>&lt;your-job-id&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Since job contains several stages, checking job status may be performed at different 
level of granularity.</p>
<p>To check the general status of a job:
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/batch-processing/v1/external/{workspace}/jobs/{job_id}&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span>
</code></pre></div></p>
<p>To list job stages:
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/batch-processing/v1/external/{workspace}/jobs/{job_id}/stages&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span>
</code></pre></div></p>
<p>To list job stage tasks (fundamental units of processing):
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/batch-processing/v1/external/{workspace}/jobs/{job_id}/stages/{stage_id}/tasks&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;nextPageToken={next_page_token}&quot;</span>
</code></pre></div>
The endpoint supports pagination - use <code>nextPageToken</code> in consecutive requests, based on previous responses 
(first request do not need to have this parameter attached).</p>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<h3 id="data-export">Data export<a class="headerlink" href="#data-export" title="Permanent link">&para;</a></h3>
<p>Once the batch processing job is complete, you can download the results using the following command. 
<strong>Figuring out <code>batch-id</code> would require listing job stages and choosing which stage output to export.</strong> 
Typically <code>export</code> stage output is exported, as it contains archives that are easy to be transferred, but 
one may choose to export results of other stages if needed.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="inference-cli_6" name="__tabbed_7" type="radio" /><input id="curl_5" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="inference-cli_6">inference-cli</label><label for="curl_5">cURL</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>data-staging<span class="w"> </span>export-batch<span class="w"> </span>--target-dir<span class="w"> </span>&lt;dir-to-export-result&gt;<span class="w"> </span>--batch-id<span class="w"> </span>&lt;output-batch-of-a-job&gt;
</code></pre></div>
</div>
<div class="tabbed-block">
<p>The Batch Processing service creates "multipart" batches to store results. The term "multipart" refers to 
nested nature of batch - namely it contains multiple "parts" of data, each being nested batch. To export such
data batch, you may want to list its parts first:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/parts&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span>
</code></pre></div>
<p>Then, for each part, list operation can be performed. As a result - download URL for each batch element will be 
exposed:</p>
<p><div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://api.roboflow.com/data-staging/v1/external/{workspace}/batches/{batch_id}/list&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-G<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;api_key=YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;nextPageToken=YOUR_NEXT_PAGE_TOKEN&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;partName=YOUR_PART_NAME&quot;</span>
</code></pre></div>
The endpoint supports pagination - use <code>nextPageToken</code> in consecutive requests, based on previous responses 
(first request do not need to have this parameter attached).</p>
<p>Having download URL for each batch element, the following <code>curl</code> command can be used to pull the data.</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>&lt;download-url&gt;<span class="w"> </span>-o<span class="w"> </span>&lt;downlaod-file-location&gt;
</code></pre></div>
<p>You can find full API reference <a href="../api_reference/">here</a>.</p>
</div>
</div>
</div>
<p>As seen in this workflow, multiple manual interactions are required to complete the process. To efficiently handle 
large volumes of data on a recurring basis, automation is essential. The next section will explore strategies for 
automating batch processing.</p>
<h2 id="automation-on-top-of-batch-processing">Automation on top of Batch Processing<a class="headerlink" href="#automation-on-top-of-batch-processing" title="Permanent link">&para;</a></h2>
<p>The approach outlined above presents a few challenges:</p>
<ul>
<li>
<p><strong>Local Data Dependency:</strong> The process assumes that data is locally available, which is often not the case in 
enterprise environments where data is stored in the cloud.</p>
</li>
<li>
<p><strong>Active Polling:</strong> The process requires constant polling to verify statuses, which is inefficient and not scalable.</p>
</li>
</ul>
<p>To address these issues, the system supports webhook notifications for both data staging and batch processing.
Webhooks allow external systems to automatically react to status changes, eliminating the need for manual polling and
enabling seamless automation. Additionally, system allows for data ingestion through <strong>signed URLs</strong>
which should streamline integrations with <a href="./#cloud-storage">cloud storage</a>.</p>
<div class="admonition important">
<p class="admonition-title">API integration</p>
<p>In the document, we are presenting snippets from <code>inefrence-cli</code>, but under the hood there is 
fully functional API that clients may integrate with (or use Python client embedded in CLI).</p>
</div>
<h3 id="data-ingestion">Data ingestion<a class="headerlink" href="#data-ingestion" title="Permanent link">&para;</a></h3>
<p>Both <code>inference rf-cloud data-staging create-batch-of-videos</code> and <code>inference rf-cloud data-staging create-batch-of-images</code>
commands support additional parameters to enable webhook notifications and ingest data directly from <a href="./#cloud-storage">cloud storage</a>.</p>
<ul>
<li>
<p><code>--data-source reference-file</code> instructs the CLI to process files referenced via signed URLs instead of requiring local data.</p>
</li>
<li>
<p><code>--references &lt;path_or_url&gt;</code> specifies either a local path to a JSONL document containing file URLs or a signed URL pointing to such a file.</p>
</li>
<li>
<p><code>--notifications-url &lt;webhook_url&gt;</code> defines the webhook URL where notifications about the ingestion process will be sent.</p>
</li>
<li>
<p><code>--notification-category &lt;value&gt;</code> - optionally allows filtering which notifications are sent. Options include:</p>
<ul>
<li>
<p><code>ingest-status</code> <em>(default)</em> - notifications about the overall ingestion process.</p>
</li>
<li>
<p><code>files-status</code> - notifications for individual file processing.`</p>
</li>
</ul>
</li>
</ul>
<div class="admonition important">
<p class="admonition-title">API reference</p>
<p>Use <a href="../api_reference/">API reference</a> document to find out how to enforce 
Batch Processing service notifications when integrating directly with API.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Limited access to the feature</p>
<p>Currently, only Growth Plan customers and Enterprise customers can ingest data through signed URLs.</p>
</div>
<h4 id="structure-of-references-file">Structure of references file<a class="headerlink" href="#structure-of-references-file" title="Permanent link">&para;</a></h4>
<div class="admonition info">
<p class="admonition-title">JSONL (JSON Lines)</p>
<p>The <strong>JSONL (JSON Lines)</strong> format consists of multiple JSON objects, each on a separate line within a single text file. 
This format is commonly used to store large datasets and allows for efficient line-by-line processing.</p>
</div>
<p>Each entry in the references file contains two key attributes:</p>
<ul>
<li><code>name</code>: A unique identifier for the file.</li>
<li><code>url</code>: A signed URL pointing to the file in <a href="#cloud-storage">cloud storage</a>.</li>
</ul>
<p>Here’s an example of the JSONL format:
<div class="highlight"><pre><span></span><code>{&quot;name&quot;: &quot;&lt;your-unique-name-of-file-1&gt;&quot;, &quot;url&quot;: &quot;https://&lt;signed-url&gt;&quot;}
{&quot;name&quot;: &quot;&lt;your-unique-name-of-file-2&gt;&quot;, &quot;url&quot;: &quot;https://&lt;signed-url&gt;&quot;}
</code></pre></div></p>
<p>You can store this references file locally or in <a href="#cloud-storage">cloud storage</a>. If the file is stored in the cloud, simply provide the
signed URL to the file when running the ingestion command.</p>
<h4 id="cloud-storage">Cloud Storage<a class="headerlink" href="#cloud-storage" title="Permanent link">&para;</a></h4>
<h5 id="aws-s3-datasource">AWS S3 Datasource<a class="headerlink" href="#aws-s3-datasource" title="Permanent link">&para;</a></h5>
<p>Using <a href="https://aws.amazon.com/s3/">AWS S3</a> for ingesting data for batch processing can be achieved easily with this example script.
This also supports S3-compatible datasources such as Backblaze B2, Cloudflare R2, Oracle Cloud Infrastructure Object Storage and many more by providing <code>--endpoint-url</code> for <code>aws</code> command.</p>
<div class="admonition note">
<p class="admonition-title">AWS CLI Installation Required</p>
<p>This script requires the <a href="https://aws.amazon.com/cli/">AWS CLI</a> to be installed and configured with appropriate credentials.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Script to generate S3 signed URLs for image files in JSONL format</span>
<span class="c1"># Usage: ./generateS3SignedUrls.sh &lt;s3-path&gt; [output-file] [expiration-seconds] [parallel-jobs]</span>
<span class="c1"># Or with curl:</span>
<span class="c1"># curl -fsSL https://raw.githubusercontent.com/roboflow/roboflow-python/main/scripts/generateS3SignedUrls.sh | bash -s --  s3://bucket/path output.jsonl</span>

<span class="nb">set</span><span class="w"> </span>-e

<span class="c1"># Check if S3 path is provided</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: S3 path is required&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> &lt;s3-path&gt; [output-file] [expiration-seconds] [parallel-jobs]&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Example: </span><span class="nv">$0</span><span class="s2"> s3://my-bucket/images/ output.jsonl 3600 8&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="nv">S3_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">signed_urls</span><span class="p">.jsonl</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">EXPIRATION</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="nv">21600</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Default: 6 hours</span>
<span class="nv">PARALLEL_JOBS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">4</span><span class="k">:-</span><span class="nv">20</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Default: 20 parallel jobs</span>

<span class="c1"># Remove trailing slash from S3 path if present</span>
<span class="nv">S3_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">S3_PATH</span><span class="p">%/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Extract bucket name from S3_PATH</span>
<span class="nv">BUCKET</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$S3_PATH</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s|s3://||&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="s1">&#39;/&#39;</span><span class="w"> </span>-f1<span class="k">)</span>

<span class="c1"># Image file extensions to include (regex pattern for grep)</span>
<span class="nv">IMAGE_PATTERN</span><span class="o">=</span><span class="s1">&#39;\.(jpg|jpeg|png|gif|bmp|webp|tiff|tif|svg)$&#39;</span>

<span class="c1"># Function to process a single file</span>
process_file<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">file_path</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">bucket</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">expiration</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Construct full S3 URI</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">s3_uri</span><span class="o">=</span><span class="s2">&quot;s3://</span><span class="si">${</span><span class="nv">bucket</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">file_path</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Generate signed URL</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">signed_url</span><span class="o">=</span><span class="k">$(</span>aws<span class="w"> </span>s3<span class="w"> </span>presign<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$s3_uri</span><span class="s2">&quot;</span><span class="w"> </span>--expires-in<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$expiration</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="c1"># Create name with full path using double underscores instead of slashes</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">name_with_path</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file_path</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s|/|__|g&#39;</span><span class="k">)</span>

<span class="w">        </span><span class="c1"># Output JSONL</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;{\&quot;name\&quot;: \&quot;</span><span class="nv">$name_with_path</span><span class="s2">\&quot;, \&quot;url\&quot;: \&quot;</span><span class="nv">$signed_url</span><span class="s2">\&quot;}&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Export function and variables for xargs</span>
<span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>process_file
<span class="nb">export</span><span class="w"> </span>BUCKET
<span class="nb">export</span><span class="w"> </span>EXPIRATION

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Listing files from </span><span class="nv">$S3_PATH</span><span class="s2">...&quot;</span>

<span class="c1"># Get list of all files, filter for images, and process in parallel</span>
aws<span class="w"> </span>s3<span class="w"> </span>ls<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$S3_PATH</span><span class="s2">/&quot;</span><span class="w"> </span>--recursive<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>awk<span class="w"> </span><span class="s1">&#39;{print $4}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>grep<span class="w"> </span>-iE<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IMAGE_PATTERN</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>-P<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PARALLEL_JOBS</span><span class="s2">&quot;</span><span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;process_file &quot;$@&quot;&#39;</span><span class="w"> </span>_<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BUCKET</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$EXPIRATION</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>tee<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done! Signed URLs written to </span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total images processed: </span><span class="k">$(</span>wc<span class="w"> </span>-l<span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<h5 id="gcs-datasource">GCS Datasource<a class="headerlink" href="#gcs-datasource" title="Permanent link">&para;</a></h5>
<p>Using <a href="https://cloud.google.com/storage">google cloud storage (GCS)</a> for ingesting data for batch processing can be easily achieved with this example script.</p>
<div class="admonition note">
<p class="admonition-title">gcloud CLI Installation Required</p>
<p>This script requires the <a href="https://cloud.google.com/sdk/gcloud">gcloud CLI</a> to be installed and configured with appropriate credentials.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Script to generate GCS signed URLs for image files in JSONL format</span>
<span class="c1"># Usage: ./listgcs.sh &lt;gcs-path&gt; [output-file] [expiration-seconds] [parallel-jobs]</span>

<span class="nb">set</span><span class="w"> </span>-e

<span class="c1"># Check if GCS path is provided</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Error: GCS path is required&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> &lt;gcs-path&gt; [output-file] [expiration-seconds] [parallel-jobs]&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Example: </span><span class="nv">$0</span><span class="s2"> gs://my-bucket/images/ output.jsonl 21600 8&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="nv">GCS_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="nv">OUTPUT_FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">2</span><span class="k">:-</span><span class="nv">signed_urls</span><span class="p">.jsonl</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nv">EXPIRATION_SECONDS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">3</span><span class="k">:-</span><span class="nv">21600</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Default: 6 hours</span>
<span class="nv">PARALLEL_JOBS</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">4</span><span class="k">:-</span><span class="nv">20</span><span class="si">}</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># Default: 20 parallel jobs</span>

<span class="c1"># Remove trailing slash from GCS path if present</span>
<span class="nv">GCS_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">GCS_PATH</span><span class="p">%/</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Convert seconds to duration format for gcloud (e.g., 21600s)</span>
<span class="nv">EXPIRATION</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">EXPIRATION_SECONDS</span><span class="si">}</span><span class="s2">s&quot;</span>

<span class="c1"># Image file extensions to include (regex pattern for grep)</span>
<span class="nv">IMAGE_PATTERN</span><span class="o">=</span><span class="s1">&#39;\.(jpg|jpeg|png|gif|bmp|webp|tiff|tif|svg)$&#39;</span>

<span class="c1"># Function to find an appropriate service account</span>
find_service_account<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1"># First, try to get the default compute service account for the current project</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">project_id</span><span class="o">=</span><span class="k">$(</span>gcloud<span class="w"> </span>config<span class="w"> </span>get-value<span class="w"> </span>project<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$project_id</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">compute_sa</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">project_id</span><span class="si">}</span><span class="s2">-compute@developer.gserviceaccount.com&quot;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span>gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>describe<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$compute_sa</span><span class="s2">&quot;</span><span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$compute_sa</span><span class="s2">&quot;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="c1"># If that doesn&#39;t work, try to find any service account in the project</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">sa_list</span><span class="o">=</span><span class="k">$(</span>gcloud<span class="w"> </span>iam<span class="w"> </span>service-accounts<span class="w"> </span>list<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;value(email)&quot;</span><span class="w"> </span>--limit<span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$sa_list</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$sa_list</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="m">0</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="o">}</span>

<span class="c1"># Try to find a service account to use</span>
<span class="nv">SERVICE_ACCOUNT</span><span class="o">=</span><span class="k">$(</span>find_service_account<span class="k">)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SERVICE_ACCOUNT</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Warning: No service account found. Attempting to sign URLs without impersonation.&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;If this fails, you may need to:&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1. Authenticate with a service account: gcloud auth activate-service-account --key-file=key.json&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2. Or ensure you have appropriate service accounts in your project&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="k">fi</span>

<span class="c1"># Function to process a single file</span>
process_file<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">object</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">service_account</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span><span class="nv">expiration</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$3</span><span class="s2">&quot;</span>

<span class="w">    </span><span class="c1"># Create signed URL using gcloud storage sign-url</span>
<span class="w">    </span><span class="nb">local</span><span class="w"> </span>signed_url_output
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$service_account</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nv">signed_url_output</span><span class="o">=</span><span class="k">$(</span>gcloud<span class="w"> </span>storage<span class="w"> </span>sign-url<span class="w"> </span>--http-verb<span class="o">=</span>GET<span class="w"> </span>--duration<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$expiration</span><span class="s2">&quot;</span><span class="w"> </span>--impersonate-service-account<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$service_account</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$object</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nv">signed_url_output</span><span class="o">=</span><span class="k">$(</span>gcloud<span class="w"> </span>storage<span class="w"> </span>sign-url<span class="w"> </span>--http-verb<span class="o">=</span>GET<span class="w"> </span>--duration<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$expiration</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$object</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="k">)</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$signed_url_output</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="c1"># Extract just the signed_url from the YAML output</span>
<span class="w">        </span><span class="nb">local</span><span class="w"> </span><span class="nv">signed_url</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$signed_url_output</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;signed_url:&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/signed_url: //&#39;</span><span class="k">)</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$signed_url</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="c1"># Extract the path after the bucket name and convert slashes to double underscores</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">path_part</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$object</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s|gs://[^/]*/||&#39;</span><span class="k">)</span>
<span class="w">            </span><span class="nb">local</span><span class="w"> </span><span class="nv">name_with_path</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$path_part</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s|/|__|g&#39;</span><span class="k">)</span>

<span class="w">            </span><span class="c1"># Output JSONL</span>
<span class="w">            </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;{\&quot;name\&quot;: \&quot;</span><span class="nv">$name_with_path</span><span class="s2">\&quot;, \&quot;url\&quot;: \&quot;</span><span class="nv">$signed_url</span><span class="s2">\&quot;}&quot;</span>
<span class="w">        </span><span class="k">fi</span>
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1"># Export function and variables for xargs</span>
<span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>process_file
<span class="nb">export</span><span class="w"> </span>SERVICE_ACCOUNT
<span class="nb">export</span><span class="w"> </span>EXPIRATION

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Listing files from </span><span class="nv">$GCS_PATH</span><span class="s2">...&quot;</span>

<span class="c1"># Get list of all files, filter for images, and process in parallel</span>
gsutil<span class="w"> </span>ls<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$GCS_PATH</span><span class="s2">&quot;</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s1">&#39;/$&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>grep<span class="w"> </span>-v<span class="w"> </span><span class="s1">&#39;:$&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>grep<span class="w"> </span>-iE<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IMAGE_PATTERN</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>xargs<span class="w"> </span>-I<span class="w"> </span><span class="o">{}</span><span class="w"> </span>-P<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$PARALLEL_JOBS</span><span class="s2">&quot;</span><span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;process_file &quot;$@&quot;&#39;</span><span class="w"> </span>_<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SERVICE_ACCOUNT</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$EXPIRATION</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>tee<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Done! Signed URLs written to </span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Total images processed: </span><span class="k">$(</span>wc<span class="w"> </span>-l<span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_FILE</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
<h4 id="notifications">Notifications<a class="headerlink" href="#notifications" title="Permanent link">&para;</a></h4>
<p>Notifications are delivered to clients via HTTP POST requests sent to the specified webhook endpoint. Each notification 
will include an Authorization header containing the Roboflow Publishable Key to authenticate the request.</p>
<h5 id="ingest-status-notifications"><code>ingest-status</code> notifications<a class="headerlink" href="#ingest-status-notifications" title="Permanent link">&para;</a></h5>
<p>Currently, the ingest-status category includes a single notification type, with the potential for more to be added in 
the future. This notification provides updates about the overall status of the data ingestion process.</p>
<p>Each ingest-status notification will contain details about the progress or completion of the data ingestion, 
allowing clients to track the status in real-time.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;roboflow-data-staging-notification-v1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8c20f970-fe10-41e1-9ef2-e057c63c07ff&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;ingest_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8cd48813430f2be70b492db67e07cc86&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test-batch-117&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shard_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;notification&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ingest-status-notification-v1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;error_details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;unsafe-url-detected&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Untrusted domain found: https://upload.wikimedia.org/wikipedia/en/7/7d/Lenna_%28test_image%29.png&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;delivery_attempt&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div>
<h5 id="files-status-notifications"><code>files-status</code> notifications<a class="headerlink" href="#files-status-notifications" title="Permanent link">&para;</a></h5>
<p>In addition to the overall ingestion status, the system also allows clients to track the status of individual files 
ingested into batches. This provides granular insights into the progress of each file during the ingestion process.</p>
<p>Since multiple files can be ingested in a batch, notifications for each file are sent in bulk. However, the volume of 
notifications may become large depending on the number of files involved in the batch.</p>
<p>Despite this, the system optimizes the delivery of notifications, ensuring that you can stay informed about each file's 
status without overwhelming your system.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;roboflow-data-staging-notification-v1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8f42708b-aeb7-4b73-9d83-cf18518b6d81&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;ingest_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d5cb69aa-b2d1-4202-a1c1-0231f180bda9&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;prod-batch-1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shard_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0d40fa12-349e-439f-83f8-42b9b7987b33&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;notification&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ingest-files-status-notification-v1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ingested_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;000000494869.jpg&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;000000186042.jpg&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;failed_files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file-size-limit-exceeded&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;file_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1d3717ec-6e11-4fd5-a91d-7e1eda235aa2-big_image.png&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Max size of single image is 20971520B.&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;content_truncated&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;delivery_attempt&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="job-kick-off_1">Job kick off<a class="headerlink" href="#job-kick-off_1" title="Permanent link">&para;</a></h3>
<p>By using the ingestion method outlined above, your system will be notified when the data is ready to be processed, allowing you to react to this event and trigger the batch processing job automatically.</p>
<p>Batch jobs also support webhook notifications. Once the processing of the batch is complete, your system will be notified that the results are available. This notification enables you to pull the results and continue with any post-processing steps without manual intervention.</p>
<p>By leveraging webhook notifications for both the ingestion and job processing stages, you can automate the entire pipeline, ensuring a smooth, hands-off experience.</p>
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>rf-cloud<span class="w"> </span>batch-processing<span class="w"> </span>process-images-with-workflow<span class="w"> </span>--workflow-id<span class="w"> </span>&lt;workflow-id&gt;<span class="w"> </span>--batch-id<span class="w"> </span>&lt;batch-id&gt;<span class="w"> </span>--notifications-url<span class="w"> </span>&lt;webhook_url&gt;
</code></pre></div>
<h4 id="format-of-notification">Format of notification<a class="headerlink" href="#format-of-notification" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;roboflow-batch-job-notification-v1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8f42708b-aeb7-4b73-9d83-cf18518b6d81&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;your-batch-job-id&gt;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;job_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success | fail&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;delivery_attempt&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="data-export_1">Data export<a class="headerlink" href="#data-export_1" title="Permanent link">&para;</a></h3>
<p>Once the batch job is completed, your system will be notified via the configured webhook. In response to this event, you can automatically trigger the pulling of results and initiate any further processing required on your end.</p>
<p>This allows for a seamless, end-to-end automation, reducing manual intervention and ensuring that results are quickly integrated into your workflow once the job finishes.</p>









  




                
              </article>
            </div>
          
  

          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../about/" class="md-footer__link md-footer__link--prev" aria-label="Previous: User Guide">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                User Guide
              </div>
            </div>
          </a>
        
        
          
          <a href="../api_reference/" class="md-footer__link md-footer__link--next" aria-label="Next: API Reference">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                API Reference
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Roboflow 2025. All rights reserved.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/roboflow" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/roboflow" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/roboflow-ai/mycompany/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/roboflow" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "optimize", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": 1.0}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a789024.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
      
        <script src="../../../javascript/init_kapa_widget.js"></script>
      
        <script src="../../../javascript/cookbooks.js"></script>
      
        <script src="../../../javascript/workflows.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
      
        <script src="https://unpkg.com/@rive-app/canvas"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
      
        <script src="../../../assets/home.js"></script>
      
        <script src="../../../js/segment.js"></script>
      
    
  </body>
</html>