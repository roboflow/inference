
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Scalable, on-device computer vision deployment.">
      
      
        <meta name="author" content="Roboflow">
      
      
        <link rel="canonical" href="https://inference.roboflow.com/workflows/workflows_execution_engine/">
      
      
        <link rel="prev" href="../workflows_compiler/">
      
      
        <link rel="next" href="../create_workflow_block/">
      
      
        
      
      
      <link rel="icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4+insiders-4.53.15">
    
    
      
        <title>Execution Engine - Roboflow Inference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f15084e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7Cui-monospace:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"ui-monospace"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../styles/cookbooks.css">
    
      <link rel="stylesheet" href="../../styles.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-T0CED2YY8K"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-T0CED2YY8K",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-T0CED2YY8K",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  
  

  
<meta property="og:type" content="website" />
<meta property="og:title" content="Execution Engine - Roboflow Inference" />
<meta property="og:description" content="Scalable, on-device computer vision deployment." />
<meta property="og:image" content="https://inference.roboflow.com/assets/images/social/workflows/workflows_execution_engine.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://inference.roboflow.com/workflows/workflows_execution_engine/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Execution Engine - Roboflow Inference" />
<meta property="twitter:description" content="Scalable, on-device computer vision deployment." />
<meta property="twitter:image" content="https://inference.roboflow.com/assets/images/social/workflows/workflows_execution_engine.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workflows-execution-engine-in-details" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Roboflow Inference" class="md-header__button md-logo" aria-label="Roboflow Inference" data-md-component="logo">
      
  <img src="../../roboflow-logomark-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Roboflow Inference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Execution Engine
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/roboflow/inference" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    roboflow/inference
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../start/overview/" class="md-tabs__link">
          
  
    
  
  Start

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../quickstart/run_a_model/" class="md-tabs__link">
          
  
    
  
  Models

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../about/" class="md-tabs__link">
          
  
    
  
  Workflows

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../quickstart/roboflow_ecosystem/" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../gallery/basic_workflows/" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
  
        
      
  

      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Roboflow Inference" class="md-nav__button md-logo" aria-label="Roboflow Inference" data-md-component="logo">
      
  <img src="../../roboflow-logomark-white.svg" alt="logo">

    </a>
    Roboflow Inference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/roboflow/inference" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    roboflow/inference
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../start/overview/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Start
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../quickstart/run_a_model/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    
  
    Workflows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    About Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../understanding/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../gallery/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../blocks/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Block Gallery
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../batch_processing/about/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Batch Processing
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developer Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../definitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Workflows Definitions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflow_execution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Workflow Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../kinds/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Kinds
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows_compiler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Compiler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Execution Engine
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Execution Engine
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#validation-of-runtime-input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation of runtime input
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#determining-execution-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        Determining execution order
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-step-inputs-and-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handling step inputs and outputs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Handling step inputs and outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simd-vs-non-simd-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        SIMD vs non-SIMD steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparing-step-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparing step inputs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparing step inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-dimensionality-offsets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input Dimensionality Offsets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deeply-nested-batches-are-flattened-before-step-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deeply nested batches are flattened before step execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-processing-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Processing Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-flow-control-steps-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Managing flow-control steps outputs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caching-steps-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Caching steps outputs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-workflow-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building Workflow outputs
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../create_workflow_block/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Block Creation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../blocks_bundling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Block Bundling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internal_data_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Data Representations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema_api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Schema API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../execution_engine_changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../quickstart/roboflow_ecosystem/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../gallery/basic_workflows/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#validation-of-runtime-input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation of runtime input
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#determining-execution-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        Determining execution order
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-step-inputs-and-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handling step inputs and outputs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Handling step inputs and outputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simd-vs-non-simd-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        SIMD vs non-SIMD steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preparing-step-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparing step inputs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparing step inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-dimensionality-offsets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input Dimensionality Offsets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deeply-nested-batches-are-flattened-before-step-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deeply nested batches are flattened before step execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-processing-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Processing Mode
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-flow-control-steps-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Managing flow-control steps outputs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caching-steps-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Caching steps outputs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-workflow-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building Workflow outputs
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  
    
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/roboflow/inference/tree/main/docs/workflows/workflows_execution_engine.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="workflows-execution-engine-in-details">Workflows Execution Engine in details<a class="headerlink" href="#workflows-execution-engine-in-details" title="Permanent link">&para;</a></h1>
<p>The <a href="../workflows_compiler/">compilation process</a> creates a Workflow Execution graph, which 
holds all the necessary details to run a Workflow definition. In this section, we'll explain the details 
of the execution process.</p>
<p>At a high level, the process does the following:</p>
<ol>
<li>
<p><strong>Validates runtime input:</strong> it checks that all required placeholders from the Workflow definition are filled 
with data and ensures the data types are correct.</p>
</li>
<li>
<p><strong>Determines execution order:</strong> it defines the order in which the steps are executed.</p>
</li>
<li>
<p><strong>Prepares step inputs and caches outputs:</strong> it organizes the inputs for each step and saves the outputs 
for future use.</p>
</li>
<li>
<p><strong>Builds the final Workflow outputs:</strong> it assembles the overall result of the Workflow.</p>
</li>
</ol>
<h2 id="validation-of-runtime-input">Validation of runtime input<a class="headerlink" href="#validation-of-runtime-input" title="Permanent link">&para;</a></h2>
<p>The Workflow definition specifies the expected inputs for Workflow execution. As discussed 
<a href="../definitions/">earlier</a>, inputs can be either batch-oriented data to be processed by steps or parameters that 
configure the step execution. This distinction is crucial to how the Workflow runs and will be explored throughout 
this page.</p>
<p>Starting with input validation, the Execution Engine has a dedicated component that parses and prepares the input 
for use. It recognizes batch-oriented inputs from the Workflow definition and converts them into an internal 
representation (e.g., <code>WorkflowImage</code> becomes <code>Batch[WorkflowImageData]</code>). This allows block developers to easily 
work with the data. Non-batch-oriented parameters are checked for type consistency against the block manifests 
used to create steps that require those parameters. This ensures that type errors are caught early in the 
execution process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All batch-oriented inputs must have a size of either 1 or n. When a batch contains only a single element, it is 
automatically broadcasted across the entire batch.</p>
</div>
<h2 id="determining-execution-order">Determining execution order<a class="headerlink" href="#determining-execution-order" title="Permanent link">&para;</a></h2>
<p>The Workflow Execution Graph is a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic graph (DAG)</a>, 
which allows us to determine the topological order. Topological order refers to a sequence in which Workflow steps are 
executed, ensuring that each step's dependencies are met before it runs. In other words, if a step relies on the output 
of another step, the Workflow Engine ensures that the dependency step is executed first.</p>
<p>Additionally, the topological structure allows us to identify which steps can be executed in parallel without causing 
race conditions. Parallel execution is the default mode in the Workflows Execution Engine. This means that multiple 
independent steps, such as those used in model ensembling can run simultaneously, resulting in significant 
improvements in execution speed compared to sequential processing.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to the parallel execution mode in the Execution Engine (and to avoid unnecessary data copying when passing 
it to each step), we strongly urge all block developers to avoid mutating any data passed to the block's <code>run(...)</code> 
method. If modifications are necessary, always make a copy of the input object before making changes!</p>
</div>
<h2 id="handling-step-inputs-and-outputs">Handling step inputs and outputs<a class="headerlink" href="#handling-step-inputs-and-outputs" title="Permanent link">&para;</a></h2>
<p>Handling step inputs and outputs is a complex task for the Execution Engine. This involves:</p>
<ul>
<li>
<p>Differentiating between SIMD (Single Instruction, Multiple Data) and non-SIMD blocks in relation to their inputs.</p>
</li>
<li>
<p>Preparing step inputs while considering conditional execution and the expected input dimensionality.</p>
</li>
<li>
<p>Managing outputs from steps that control the flow of execution.</p>
</li>
<li>
<p>Registering outputs from data-processing steps, ensuring they match the output dimensionality declared by the blocks.</p>
</li>
</ul>
<p>Letâ€™s explore each of these topics in detail.</p>
<h3 id="simd-vs-non-simd-steps">SIMD vs non-SIMD steps<a class="headerlink" href="#simd-vs-non-simd-steps" title="Permanent link">&para;</a></h3>
<p>As the definition suggests, a SIMD (Single Instruction, Multiple Data) step processes batch-oriented data, where the 
same operation is applied to each data point, potentially using non-batch-oriented parameters for configuration. 
The output from such a step is expected to be a batch of elements, preserving the order of the input batch elements. 
This applies to both regular processing steps and flow-control steps (see 
<a href="../create_workflow_block/">blocks development guide</a>), where flow-control decisions 
affect each batch element individually.</p>
<p>In essence, the type of data fed into the step determines whether it's SIMD or non-SIMD. If a step requests any 
batch-oriented input, it will be treated as a SIMD step.</p>
<p>Non-SIMD steps, by contrast, are expected to deliver a single result for the input data. In the case of non-SIMD 
flow-control steps, they affect all downstream steps as a whole, rather than individually for each element in a batch.</p>
<p>Historically, Execution Engine could not handle well all scenarios when non-SIMD steps' outputs were fed into SIMD steps
inputs - causing compilation error due to lack of ability to automatically cast such outputs into batches when feeding
into SIMD seps. Starting with Execution Engine <code>v1.6.0</code>, the handling of SIMD and non-SIMD blocks has been improved 
through the introduction of <strong>Auto Batch Casting</strong>:</p>
<ul>
<li>
<p>When a SIMD input is detected but receives scalar data, the Execution Engine automatically casts it into a batch.</p>
</li>
<li>
<p>The dimensionality of the batch is determined at compile time, using <em>lineage</em> information from other 
batch-oriented inputs when available. Missing dimensions are generated in a manner similar to <code>torch.unsqueeze(...)</code>.</p>
</li>
<li>
<p>Outputs are evaluated against the casting context - leaving them as scalars when block keeps or decreases output 
dimensionality or <strong>creating new batches</strong> when increase of dimensionality is expected.</p>
</li>
</ul>
<h3 id="preparing-step-inputs">Preparing step inputs<a class="headerlink" href="#preparing-step-inputs" title="Permanent link">&para;</a></h3>
<p>Each requested input element may be batch-oriented or not. Non-batch inputs are relatively easy, 
they do not require special treatment. With batch-oriented ones, there is a lot more of a hustle.
Execution Engine maintains indices for each batch-oriented datapoints, for instance:</p>
<ul>
<li>
<p>if there is input images batch, each element will achieve their own unique index - let's say there is
four input images, the batch indices will be <code>[(0, ), (1, ), (2, ), (3, )]</code>.</p>
</li>
<li>
<p>step output being not-nested batch will also be indexed, for instance predictions from a model for each of
image mentioned above will also be indexed <code>[(0, ), (1, ), (2, ), (3, )]</code>.</p>
</li>
<li>
<p>having a block that increases <code>dimensionality level</code> - let's say a Dynamic Crop based on
predictions from object-detection model - having 2 crops for first image, 1 for second and three for fourth -
output of such step will be indexed in the following way: <code>[(0, 0), (0, 1), (1, 0), (3, 0), (3, 1), (3, 2)]</code>.</p>
</li>
</ul>
<p>Indexing of elements is important while gathering inputs for steps execution. Thanks to them, all batch oriented 
inputs may be aligned - such that Execution Engine will always ship prediction <code>(3, )</code> with image <code>(3, )</code> and 
crops batch of crops <code>[(3, 0), (3, 1), (3, 2)]</code> when any step requests it. </p>
<p>Each requested input element can either be batch-oriented or non-batch. Non-batch inputs are straightforward and don't 
require special handling. However, batch-oriented inputs involve more complexity. The Execution Engine tracks indices 
for each batch-oriented data point. For example:</p>
<ul>
<li>
<p>If there's a batch of input images, each element receives its own unique index. For a batch of four images, the 
indices would be <code>[(0,), (1,), (2,), (3,)]</code>.</p>
</li>
<li>
<p>A step output which do not increase dimensionality will also be indexed similarly. For example, model predictions 
for each of the four images would have indices <code>[(0,), (1,), (2,), (3,)]</code>.</p>
</li>
<li>
<p>If a block increases the <code>dimensionality_level</code> (e.g., a dynamic crop based on predictions from an object 
detection model), the output will be indexed differently. Suppose there are 2 crops for the first image, 
1 for the second, and 3 for the fourth. The indices for this output would be 
<code>[(0, 0), (0, 1), (1, 0), (3, 0), (3, 1), (3, 2)]</code>.</p>
</li>
</ul>
<p>Indexing is crucial for aligning inputs during step execution. The Execution Engine ensures that all batch-oriented 
inputs are synchronized. For example, it will match prediction <code>(3,)</code> with image <code>(3,)</code> and the corresponding batch 
of crops <code>[(3, 0), (3, 1), (3, 2)]</code> when a step requests them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keeping data lineage in order during compilation simplifies execution. The Execution Engine doesn't need to 
verify if dynamically created nested batches come from the same source. Its job is to align indices when 
preparing step inputs.</p>
</div>
<h4 id="additional-considerations">Additional Considerations<a class="headerlink" href="#additional-considerations" title="Permanent link">&para;</a></h4>
<h5 id="input-dimensionality-offsets">Input Dimensionality Offsets<a class="headerlink" href="#input-dimensionality-offsets" title="Permanent link">&para;</a></h5>
<p>Workflow blocks define how input dimensionality is handled. 
If the Execution Engine detects a difference in input dimensionality, it will wrap the larger dimension into a batch. 
For example, if a block processes both input images and dynamically cropped images, the latter will be wrapped into a 
batch so that each top-level image is processed with its corresponding batch of crops.</p>
<h5 id="deeply-nested-batches-are-flattened-before-step-execution">Deeply nested batches are flattened before step execution<a class="headerlink" href="#deeply-nested-batches-are-flattened-before-step-execution" title="Permanent link">&para;</a></h5>
<p>Given the block defines all input at the same dimensionality level, no matter how deep the nesting of input batches is, 
step input will be flattened to a single batch and indices in the outputs will be automagically maintained by 
Execution Engine.</p>
<h5 id="conditional-execution">Conditional Execution<a class="headerlink" href="#conditional-execution" title="Permanent link">&para;</a></h5>
<p>Flow-control blocks manage which steps should be executed based on certain conditions. During compilation, 
steps affected by these conditions are flagged. When constructing their inputs, a mask for flow-control exclusion 
(both SIMD- and non-SIMD-oriented) is applied. Based on this mask, specific input elements will be replaced with 
<code>None</code>, representing an empty value.</p>
<p>By default, blocks don't accept empty values, so any <code>None</code> at index <code>(i,)</code> in a batch will cause that index to be 
excluded from processing. This is how flow control is managed within the Execution Engine. Some blocks, however, 
are designed to handle empty inputs. In such cases, while the flow-control mask will be applied, empty inputs 
won't be eliminated from the input batch.</p>
<h5 id="batch-processing-mode">Batch Processing Mode<a class="headerlink" href="#batch-processing-mode" title="Permanent link">&para;</a></h5>
<p>Blocks may either process batch inputs all at once or, by default, require the Execution Engine to loop over each 
input and repeatedly invoke the block's <code>run(...)</code> method.</p>
<h3 id="managing-flow-control-steps-outputs">Managing flow-control steps outputs<a class="headerlink" href="#managing-flow-control-steps-outputs" title="Permanent link">&para;</a></h3>
<p>The outputs of flow-control steps are unique because these steps determine which data points should be 
passed to subsequent steps which is roughly similar to outcome of this pseudocode:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">condition</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">step_1</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
    <span class="n">step_2</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">step_3</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</code></pre></div>
<p>The Workflows Execution Engine parses the outputs from flow-control steps and creates execution branches. 
Each branch has an associated mask:</p>
<ul>
<li>
<p>For <strong>SIMD branches</strong>, the mask contains a set of indices that will remain active for processing.</p>
</li>
<li>
<p>For <strong>non-SIMD branches</strong>, the mask is a simple <code>True</code> / <code>False</code> value that determines whether the entire 
branch is active.</p>
</li>
</ul>
<p>After a flow-control step executes, this mask is registered and applied to any steps affected by the decision. 
This allows the Engine to filter out specific data points from processing in the downstream branch. 
If a data point is excluded from the first step in a branch (due to the masking), that data point is automatically 
eliminated from the entire branch (as a result of exclusion of empty inputs by default).</p>
<h3 id="caching-steps-outputs">Caching steps outputs<a class="headerlink" href="#caching-steps-outputs" title="Permanent link">&para;</a></h3>
<p>It's not just the outcomes of flow-control steps that need to be managed carefullyâ€”data processing steps also require 
attention to ensure their results are correctly passed to other steps. The key aspect here is properly indexing 
the outputs.</p>
<p>In simple cases where all inputs share the same <code>dimensionality level</code> and the output maintains that same 
dimensionality, the Execution Engine's main task is to preserve the order of input indices. However, when input 
dimensionalities differ, the Workflow block used to create the step determines how indexing should be handled.</p>
<p>If the dimensionality changes during processing, the Execution Engine either uses the high-level index or creates 
nested dimensions dynamically based on the length of element lists in the output. This ensures proper alignment and 
tracking of data across steps.</p>
<h2 id="building-workflow-outputs">Building Workflow outputs<a class="headerlink" href="#building-workflow-outputs" title="Permanent link">&para;</a></h2>
<p>For details on how outputs are constructed, please refer to the information provided on the 
<a href="../definitions/">Workflows Definitions</a> page and the 
<a href="../workflow_execution/#output-construction">Output Construction</a> section of the Workflow Execution 
documentation.</p>









  




                
              </article>
            </div>
          
  

          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../workflows_compiler/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Compiler">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Compiler
              </div>
            </div>
          </a>
        
        
          
          <a href="../create_workflow_block/" class="md-footer__link md-footer__link--next" aria-label="Next: Block Creation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Block Creation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Roboflow 2025. All rights reserved.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/roboflow" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/roboflow" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/roboflow-ai/mycompany/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/roboflow" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "optimize", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": 1.0}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a789024.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
      
        <script src="../../javascript/init_kapa_widget.js"></script>
      
        <script src="../../javascript/cookbooks.js"></script>
      
        <script src="../../javascript/workflows.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
      
        <script src="https://unpkg.com/@rive-app/canvas"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
      
        <script src="../../assets/home.js"></script>
      
        <script src="../../js/segment.js"></script>
      
    
  </body>
</html>